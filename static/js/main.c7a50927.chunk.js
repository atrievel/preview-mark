(this["webpackJsonppreviewmark-react-typescript"]=this["webpackJsonppreviewmark-react-typescript"]||[]).push([[0],{23:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(16),s=a.n(c),l=(a(23),a(6)),i=a(2),o=a(9),d=a(12),x=a.n(d),j={heading:function(e,t){var a="base",r=1===t?'<hr class="p-3"/>':"";switch(t){case 1:a="3xl py-2";break;case 2:a="2xl";break;case 3:a="xl";break;case 4:a="lg";break;case 5:a="base"}return"\n\t\t\t<h".concat(t,' class="text-').concat(a,'">\n\t\t\t').concat(e,"\n\t\t\t</h").concat(t,">\n\t\t\t").concat(r,"\n\t\t\t")},list:function(e,t){return'\n\t\t<ul class="list-'.concat(t?"decimal":"disc",' px-4">\n\t\t').concat(e,"\n\t\t</ul>\n\t\t")}},b=a(0),m={editorMarkdown:"",setEditorMarkdownHandle:function(){},previewMarkdown:"This is the preview side",setPreviewMarkdownHandle:function(){}},u=Object(r.createContext)(m),h=function(e){var t=e.children,a=Object(r.useState)(""),n=Object(o.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)("This is preview side"),i=Object(o.a)(l,2),d=i[0],m=i[1];Object(r.useEffect)((function(){var e=localStorage.getItem("editorMarkdown");e&&s(e);var t=localStorage.getItem("previewMarkdown");t&&m(t)}),[]);return Object(b.jsx)(u.Provider,{value:{editorMarkdown:c,setEditorMarkdownHandle:function(e){localStorage.setItem("editorMarkdown",e.target.value),s(e.target.value)},previewMarkdown:d,setPreviewMarkdownHandle:function(e){localStorage.setItem("editorMarkdown",e),x.a.use({renderer:j});var t=x()(e);localStorage.setItem("previewMarkdown",t),m(t)}},children:t})},p=function(){return Object(b.jsx)("header",{className:"text-gray-100 body-font",children:Object(b.jsxs)("div",{className:"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center",children:[Object(b.jsxs)(l.b,{className:"flex title-font font-medium items-center text-gray-50 mb-4 md:mb-0",to:"/",children:[Object(b.jsx)("img",{src:"../assets/img/logo.png",alt:"",className:"w-8"}),Object(b.jsx)("span",{className:"ml-3 text-2xl",children:"Preview"}),Object(b.jsx)("span",{className:"text-2xl text-green-300 bg-black px-1",children:"Mark"})]}),Object(b.jsx)("nav",{className:"md:ml-auto flex flex-wrap items-center text-base justify-center",children:Object(b.jsxs)("ul",{className:"flex flex-col md:flex-row list-none ml-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)("a",{href:"https://ctt.ac/5vKHr",target:"_blank",rel:"noreferrer",className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug hover:opacity-75",children:[Object(b.jsx)("i",{className:"fab fa-twitter text-lg leading-lg opacity-75",children:" "}),Object(b.jsx)("span",{className:"ml-2",children:"Tweet"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)("a",{href:"https://github.com/bonniesimon/preview-mark",target:"_blank",rel:"noreferrer",className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug hover:opacity-75",children:[Object(b.jsx)("i",{className:"fab fa-github text-lg leading-lg opacity-75",children:" "}),Object(b.jsx)("span",{className:"ml-2",children:"Star"})]})})]})})]})})},f=function(){var e=Object(r.useContext)(u),t=e.setEditorMarkdownHandle,a=e.editorMarkdown;return Object(b.jsxs)("div",{className:"min-h-screen lg:w-full md:w-3/4 mx-5",children:[Object(b.jsx)("label",{className:"block text-gray-300 text-center font-bold my-10",htmlFor:"message",children:"Enter Markdown"}),Object(b.jsx)("textarea",{value:a,onChange:t,name:"feedback",id:"feedback",className:"border-0 px-3 py-3 w-full  h-96 bg-gray-600 placeholder-black text-gray-50 rounded shadow focus:outline-none",placeholder:"",required:!0})]})},w=function(){var e=Object(r.useContext)(u).previewMarkdown;return Object(b.jsxs)("div",{className:"lg:w-full md:w-3/4 min-h-screen mx-5",children:[Object(b.jsx)("h1",{className:"text-gray-300 text-center font-bold my-10",children:"Preview"}),Object(b.jsx)("div",{className:"bg-gray-600 h-96 p-3 text-gray-100 overflow-y-scroll",dangerouslySetInnerHTML:{__html:e}}),Object(b.jsxs)(l.b,{to:"/fullscreen-preview",className:"p-1 my-4 bg-gray-300 hover:bg-gray-400 cursor-pointer w-1/2 mx-auto text-center flex justify-center items-center",children:["Fullscreen",Object(b.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"})})]})]})},v=function(){var e=Object(r.useContext)(u),t=e.editorMarkdown,a=e.setPreviewMarkdownHandle;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("button",{onClick:function(){return a(t)},className:"px-6 py-3 my-6 self-center bg-green-300 flex flex-row items-center",children:["Preview",Object(b.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})]})})},g=a(5),O=a.n(g),y=a(8),k=function(){var e=Object(r.useContext)(u).previewMarkdown,t=Object(i.f)(),a=function(){var e=Object(y.a)(O.a.mark((function e(t,a){var r,n,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://f80l28.deta.dev/publish-page",r={markdown:t,date:a},n={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)},e.next=5,fetch("https://f80l28.deta.dev/publish-page",n);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n=function(){var r=Object(y.a)(O.a.mark((function r(){var n,c,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new Date(Date.now()).toLocaleDateString(),r.next=3,a(e,n);case 3:c=r.sent,s="/pages/"+c.key,t.push(s);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(b.jsxs)("button",{onClick:n,className:"px-3 py-2 bg-yellow-400 text-black flex flex-row justify-center items-center",children:["Publish",Object(b.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})})]})},N=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row items-stretch md:mx-5 lg:mx-20 mt-32 pb-1",children:[Object(b.jsx)(f,{}),Object(b.jsx)(v,{}),Object(b.jsx)(w,{})]}),Object(b.jsx)("div",{className:"flex flex-row justify-center",children:Object(b.jsx)(k,{})})]})},M=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("footer",{className:"footer bg-gray-700 relative pt-1 border-b-2 border-gray-700",children:Object(b.jsx)("div",{className:"container mx-auto px-6",children:Object(b.jsx)("div",{className:"mt-16 border-t-2 border-gray-300 flex flex-col items-center",children:Object(b.jsx)("div",{className:"sm:w-2/3 text-center py-6",children:Object(b.jsx)("p",{className:"text-sm text-gray-300 font-bold mb-2",children:"\xa9 2021 by Bonnie Simon"})})})})})})},S=function(){var e=Object(r.useContext)(u).previewMarkdown;return Object(b.jsxs)("div",{className:"mx-auto max-w-screen-xl w-3/4 min-h-screen",children:[Object(b.jsx)("h1",{className:"text-gray-300 text-center font-bold my-10",children:"Preview"}),Object(b.jsx)("div",{className:"bg-gray-600 min-h-screen p-5 text-gray-100",dangerouslySetInnerHTML:{__html:e}}),Object(b.jsx)("div",{className:"pt-5 flex flex-row justify-center",children:Object(b.jsx)(k,{})})]})},H=function(e){var t=e.match,a=Object(r.useState)(""),n=Object(o.a)(a,2),c=n[0],s=n[1],l=function(){var e=Object(y.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,s(r.markdown);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=t.params.id,a="https://f80l28.deta.dev/pages/".concat(e);l(a)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"mx-auto max-w-screen-xl w-3/4 min-h-screen",children:[Object(b.jsx)("h1",{className:"text-gray-300 text-center font-bold my-10",children:"Shared Page"}),Object(b.jsx)("div",{className:"bg-gray-600 min-h-screen p-5 text-gray-100",dangerouslySetInnerHTML:{__html:c}})]})})},C=function(){return Object(b.jsx)(l.a,{basename:"/preview-mark",children:Object(b.jsxs)("div",{className:"App min-h-screen bg-gray-700",children:[Object(b.jsx)(p,{}),Object(b.jsx)(i.c,{children:Object(b.jsxs)(h,{children:[Object(b.jsx)(i.a,{path:"/",exact:!0,component:N}),Object(b.jsx)(i.a,{path:"/fullscreen-preview",exact:!0,component:S}),Object(b.jsx)(i.a,{path:"/pages/:id",component:H})]})}),Object(b.jsx)(M,{})]})})};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.c7a50927.chunk.js.map